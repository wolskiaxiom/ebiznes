(this["webpackJsonpfrontend-react"]=this["webpackJsonpfrontend-react"]||[]).push([[0],{14:function(e){e.exports=JSON.parse('[{"url":"/cats","animalType":"CAT","categoryName":"Koty"},{"url":"/dogs","animalType":"DOG","categoryName":"Psy"},{"url":"/snakes","animalType":"SNAKE","categoryName":"W\u0119\u017ce"},{"url":"/parrots","animalType":"PARROT","categoryName":"Papugi"},{"url":"/pigs","animalType":"PIG","categoryName":"\u015awinki morskie"},{"url":"/hamsters","animalType":"HAMSTER","categoryName":"Chomiki"},{"url":"/spiders","animalType":"SPIDER","categoryName":"Paj\u0105ki"}]')},57:function(e,t,a){},86:function(e,t,a){},89:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),r=a(21),i=a.n(r),s=(a(57),a(16)),l=a(20),o=a(8),j=function(e,t){var a=Object(n.useState)(null),c=Object(o.a)(a,2),r=c[0],i=c[1],j=Object(n.useState)(null),d=Object(o.a)(j,2),b=d[0],u=d[1],p=Object(n.useState)(!1),O=Object(o.a)(p,2),h=O[0],x=O[1];return Object(n.useEffect)((function(){var a=new AbortController,n=a.signal,c=function(){var a=Object(l.a)(Object(s.a)().mark((function a(){var c,r;return Object(s.a)().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return x(!0),a.prev=1,a.next=4,fetch(e,t);case 4:return c=a.sent,a.next=7,c.json();case 7:r=a.sent,n.aborted||i(r),a.next=14;break;case 11:a.prev=11,a.t0=a.catch(1),n.aborted||u(a.t0);case 14:return a.prev=14,n.aborted||x(!1),a.finish(14);case 17:case"end":return a.stop()}}),a,null,[[1,11,14,17]])})));return function(){return a.apply(this,arguments)}}();return c(),function(){a.abort()}}),[]),{response:r,error:b,loading:h}},d=a(1),b=function(e){var t=e.label,a=e.onClick,n=e.disabled;return Object(d.jsx)("button",{class:"btn btn-primary",onClick:a,disabled:n,children:t})},u=a(28),p=a(19),O=function(e,t){switch(t.type){case"ADD_TO_CART":return Object(p.a)(Object(p.a)({},e),{},{cart:[].concat(Object(u.a)(e.cart),[t.payload])});case"REMOVE_FROM_CART":return Object(p.a)(Object(p.a)({},e),{},{cart:e.cart.filter((function(e){return e.id!==t.payload.id||e.category!==t.payload.category}))});case"CLEAN_CART":return Object(p.a)(Object(p.a)({},e),{},{cart:[]});default:return e}},h=Object(n.createContext)(),x=function(e){var t=e.children,a=Object(n.useReducer)(O,{cart:[]}),c=Object(o.a)(a,2),r=c[0],i=c[1];return Object(d.jsx)(h.Provider,{value:{state:r,dispatch:i},children:t})},m=function(){return Object(n.useContext)(h)},g=a(99),y=function(e){var t=e.item,a=e.category,n=m(),c=n.state.cart,r=n.dispatch;return Object(d.jsx)("div",{className:"products",children:Object(d.jsx)(g.a,{children:Object(d.jsxs)(g.a.Body,{children:[Object(d.jsx)(g.a.Title,{children:t.name}),Object(d.jsxs)(g.a.Subtitle,{style:{paddingBottom:10},children:[Object(d.jsxs)("div",{children:["Typ: ",t.animalType]}),Object(d.jsxs)("div",{children:["Wiek: ",t.age]}),Object(d.jsxs)("div",{children:["Cena: ",t.price," PLN"]})]}),c.filter((function(e){return e.id===t.id&&e.animalType===t.animalType}))<1?Object(d.jsx)(b,{onClick:function(){t.category=a,r({type:"ADD_TO_CART",payload:t})},label:"Przygarnij zwierzaka",disabled:!1}):Object(d.jsx)(b,{label:"Ju\u017c w koszyku...",disabled:!0})]})})})},f="https://ebiznes22.azurewebsites.net/api",v=function(e){var t=e.animal,a=j(f+t.url,[]),n=a.response,c=a.loading,r=a.error;return Object(d.jsxs)("div",{children:[Object(d.jsx)("p",{style:{padding:20},className:"h1 text-center ",children:t.categoryName}),c&&Object(d.jsx)("p",{children:"Loading..."}),r&&Object(d.jsx)("p",{children:"Something went wrong..."}),n&&n.length>0&&Object(d.jsx)("div",{className:"productContainer",children:n.map((function(e){return Object(d.jsx)(y,{item:e,category:t.animalType},e.price)}))}),n&&0===n.length&&Object(d.jsx)("div",{children:Object(d.jsxs)("p",{style:{padding:20},className:"h3 text-center font-italic",children:["Brak zwierzak\xf3w na sprzeda\u017c z kategorii: ",t.categoryName]})})]})},k=function(e){return Object(d.jsx)("div",{children:Object(d.jsx)(v,{animal:e.animal})})},z=a(14),w=a(18),C=function(e){var t=e.animal;e.chooseAnimal;return Object(d.jsx)("div",{children:Object(d.jsx)(w.b,{class:"text-light",style:{textDecoration:"none"},to:t.url,children:t.categoryName})})},T=a(95),N=a(92),S=function(){return Object(d.jsx)(T.a,{bg:"dark",variant:"dark",style:{height:80},children:Object(d.jsxs)(N.a,{children:[Object(d.jsx)(T.a.Brand,{className:"bg-primary",style:{padding:"10px"},children:Object(d.jsx)("div",{children:Object(d.jsx)(w.b,{to:"/",class:"text-light",style:{textDecoration:"none",fontWeight:600},children:"Strona domowa"})})}),Object(d.jsx)("div",{style:{padding:"20px",display:"inline-block"}}),z.map((function(e){return Object(d.jsx)(T.a.Brand,{className:"bg-secondary",style:{padding:"10px"},children:Object(d.jsx)(C,{animal:e},e.animalType)},e.animalType)})),Object(d.jsx)("div",{style:{padding:"20px",display:"inline-block"}}),Object(d.jsx)(T.a.Brand,{className:"bg-warning",style:{padding:"10px"},children:Object(d.jsx)("div",{children:Object(d.jsx)(w.b,{class:"text-dark",style:{textDecoration:"none",fontWeight:600},to:"/cart",children:"Koszyk"})})})]})})},A=a(100),R=a(101),_=a(26),E=a.n(_),G=function(){var e=Object(A.a)(["email"]),t=Object(o.a)(e,2),a=t[0],n=t[1];return Object(d.jsxs)("div",{children:[Object(d.jsxs)("div",{style:{textAlign:"center"},children:[Object(d.jsx)("h1",{children:"Witam w sklepie ze zwierzakami!"}),a.email&&"undefined"!==a.email?Object(d.jsxs)("div",{children:[Object(d.jsxs)("span",{children:["Jeste\u015b zalogowany jako: ",a.email]}),Object(d.jsx)("div",{style:{textAlign:"center",padding:"20px"},children:Object(d.jsx)(R.a,{style:{background:"transparent",color:"black"},onClick:function(){var e=function(){var e=Object(l.a)(Object(s.a)().mark((function e(){return Object(s.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E.a.get("https://ebiznes22.azurewebsites.net/api/signOut").then((function(e){200===e.status&&alert("Wylogowano pomy\u015blnie")})).catch((function(){alert("Wylogowano pomy\u015blnie...")}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e(),n("email")},children:"Wyloguj"})})]}):Object(d.jsx)("a",{href:"https://ebiznes22.azurewebsites.net/api/authenticate/google",className:"provider google",title:"Google",children:Object(d.jsx)("img",{src:"img/google2.png",alt:"Google",width:"64px",height:"64px"})})]}),Object(d.jsx)("div",{style:{textAlign:"center",paddingTop:"30px"},children:Object(d.jsx)("img",{src:"img/logo-shop.png",style:{alignContent:"center"},alt:"Friendly dogo here!"})})]})},I=a(6),P=a(97),D=a(93),W=a(51),L=a(96),B=a(98),M=(a(86),function(){var e=m(),t=e.state,a=e.dispatch,c=t.cart,r=Object(n.useState)(""),i=Object(o.a)(r,2),j=i[0],b=i[1],p=Object(n.useState)(""),O=Object(o.a)(p,2),h=O[0],x=O[1],g=Object(n.useState)(""),y=Object(o.a)(g,2),v=y[0],k=y[1],z=Object(n.useState)(""),w=Object(o.a)(z,2),C=w[0],T=w[1],S=Object(n.useState)(),A=Object(o.a)(S,2),_=A[0],G=A[1];return Object(n.useEffect)((function(){G(c.reduce((function(e,t){return e+Number(t.price)}),0))}),[c]),Object(d.jsxs)("div",{className:"home",children:[Object(d.jsx)("div",{className:"productContainer",children:c.length>0?Object(d.jsx)("div",{children:Object(d.jsx)(P.a,{children:c.map((function(e){return Object(d.jsx)(P.a.Item,{variant:"dark",children:Object(d.jsxs)(N.a,{fluid:!0,styles:{background:"#61dafb"},children:[Object(d.jsx)(D.a,{children:Object(d.jsx)(W.a,{children:Object(d.jsx)("h4",{children:e.animalType})})}),Object(d.jsx)(D.a,{children:Object(d.jsxs)(W.a,{children:[' Imi\u0119: "',e.name,'" ']})}),Object(d.jsx)(D.a,{children:Object(d.jsxs)(W.a,{children:[" Cena: ",e.price," PLN "]})}),Object(d.jsx)(D.a,{children:Object(d.jsx)(W.a,{children:Object(d.jsx)(R.a,{type:"button",variant:"light",onClick:function(){return a({type:"REMOVE_FROM_CART",payload:e})},children:Object(d.jsx)(B.a,{fontSize:"20px"})})})})]})},(e.id.toString()+e.category.toString()).split("").reduce((function(e,t){return(e=(e<<5)-e+t.charCodeAt(0))&e}),0))}))})}):Object(d.jsx)("div",{style:{textAlign:"center",padding:"30px"},children:Object(d.jsx)("span",{children:"Brak produktow w koszyku"})})}),Object(d.jsxs)("div",{className:"filters summary",children:[Object(d.jsxs)("span",{style:{fontWeight:700,fontSize:20},children:["Szacowana cena: ",_," PLN"]}),Object(d.jsx)("div",{style:{height:100}}),Object(d.jsxs)("div",{style:{textAlign:"center"},children:[Object(d.jsx)("span",{style:{fontWeight:60,fontSize:17},children:"Wprowad\u017a dane do zapytania"}),Object(d.jsxs)(L.a,{onSubmit:function(e){e.preventDefault()},children:[Object(d.jsx)(D.a,{className:"mb-3",children:Object(d.jsxs)(L.a.Group,{as:W.a,controlId:"nickname",children:[Object(d.jsx)(L.a.Label,{children:"Imi\u0119: "}),Object(d.jsx)(L.a.Control,{type:"text",placeholder:"Imi\u0119 i nazwisko",onChange:function(e){b(e.target.value)}})]})}),Object(d.jsx)(D.a,{className:"mb-3",children:Object(d.jsxs)(L.a.Group,{as:W.a,controlId:"formGridAddress1",children:[Object(d.jsx)(L.a.Label,{children:"Adres: "}),Object(d.jsx)(L.a.Control,{value:h,onChange:function(e){x(e.target.value)}})]})}),Object(d.jsxs)(D.a,{className:"mb-3",children:[Object(d.jsxs)(L.a.Group,{as:W.a,controlId:"formGridCity",children:[Object(d.jsx)(L.a.Label,{children:"Miasto: "}),Object(d.jsx)(L.a.Control,{onChange:function(e){k(e.target.value)}})]}),Object(d.jsxs)(L.a.Group,{as:W.a,controlId:"formGridZip",children:[Object(d.jsx)(L.a.Label,{children:"Kod pocztowy: "}),Object(d.jsx)(L.a.Control,{onChange:function(e){T(e.target.value)}})]})]}),Object(d.jsx)(D.a,{className:"mb-2",children:Object(d.jsx)(L.a.Group,{as:W.a,controlId:"formGridCity",children:Object(d.jsx)(R.a,{className:"d-grid gap-2 text-center",type:"submit",size:"lg",disabled:c.length<1,onClick:function(){var e=function(){var e=Object(l.a)(Object(s.a)().mark((function e(){return Object(s.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E.a.post(f+"/order",{customer_nick:j.toString(),customer_address1:h.toString(),customer_city:v.toString(),customer_zipcode:C.toString(),total_price:_,order_items:Object(u.a)(Array(c.length).keys()).map((function(e){return{item_id:c[e].id,item_cat:c[e].category}}))},{withCredentials:!0}).then((function(e){200===e.status&&(a({type:"CLEAN_CART",payload:{}}),alert("Zam\xf3wienie zosta\u0142o z\u0142o\u017cone!"))})).catch((function(e){400===e.response.status?alert("Co\u015b posz\u0142o nie tak z zam\xf3wieniem... Upewnij si\u0119, \u017ce uzupe\u0142ni\u0142e\u015b wszystkie pola w formularzu."):401===e.response.status?alert("Co\u015b posz\u0142o nie tak z zam\xf3wieniem... Upewnij si\u0119 \u017ce jeste\u015b zalogowany."):alert("Co\u015b posz\u0142o nie tak z zam\xf3wieniem... Skontaktuj sie z administratorem.")}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()},children:"Wy\u015blij zapytanie o dost\u0119pno\u015b\u0107"})})})]})]})]})]})}),J=a(94);var K=function(){return Object(d.jsx)(J.a,{children:Object(d.jsxs)(w.a,{children:[Object(d.jsx)(S,{}),Object(d.jsxs)("div",{children:[Object(d.jsx)(I.a,{path:"/",exact:!0,children:Object(d.jsx)(G,{})}),Object(d.jsx)(I.a,{path:"/cart",exact:!0,children:Object(d.jsx)(M,{})}),Object(d.jsx)(I.a,{path:"/cats",exact:!0,children:Object(d.jsx)(k,{animal:z.filter((function(e){return"CAT"===e.animalType}))[0]})}),Object(d.jsx)(I.a,{path:"/dogs",exact:!0,children:Object(d.jsx)(k,{animal:z.filter((function(e){return"DOG"===e.animalType}))[0]})}),Object(d.jsx)(I.a,{path:"/snakes",exact:!0,children:Object(d.jsx)(k,{animal:z.filter((function(e){return"SNAKE"===e.animalType}))[0]})}),Object(d.jsx)(I.a,{path:"/parrots",exact:!0,children:Object(d.jsx)(k,{animal:z.filter((function(e){return"PARROT"===e.animalType}))[0]})}),Object(d.jsx)(I.a,{path:"/pigs",exact:!0,children:Object(d.jsx)(k,{animal:z.filter((function(e){return"PIG"===e.animalType}))[0]})}),Object(d.jsx)(I.a,{path:"/hamsters",exact:!0,children:Object(d.jsx)(k,{animal:z.filter((function(e){return"HAMSTER"===e.animalType}))[0]})}),Object(d.jsx)(I.a,{path:"/spiders",exact:!0,children:Object(d.jsx)(k,{animal:z.filter((function(e){return"SPIDER"===e.animalType}))[0]})})]})]})})};a(88);i.a.render(Object(d.jsx)(c.a.StrictMode,{children:Object(d.jsx)(x,{children:Object(d.jsx)(K,{})})}),document.getElementById("root"))}},[[89,1,2]]]);
//# sourceMappingURL=main.9b456680.chunk.js.map